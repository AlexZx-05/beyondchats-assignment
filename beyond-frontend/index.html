<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>BeyondChats | AI Updated Blogs</title>

<!-- Google Font -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: "Poppins", sans-serif;
}

body{
  background: linear-gradient(135deg, #111827, #1f2937);
  min-height:100vh;
  padding:40px;
  color:white;
}

/* Header */
.header{
  text-align:center;
  margin-bottom:30px;
}
.header h1{
  font-size:34px;
  letter-spacing:.5px;
}
.header p{
  opacity:.8;
  margin-top:5px;
}

/* Grid */
#articles{
  display:grid;
  grid-template-columns: repeat(auto-fill,minmax(320px,1fr));
  gap:25px;
}

/* Card */
.card{
  background: rgba(255,255,255,0.08);
  border:1px solid rgba(255,255,255,0.15);
  padding:25px;
  border-radius:14px;
  box-shadow:0 10px 30px rgba(0,0,0,.25);
  cursor:pointer;
  transition:.3s ease-in-out;
  backdrop-filter: blur(8px);
}

.card:hover{
  transform: translateY(-6px) scale(1.01);
  border-color:#60a5fa;
  box-shadow:0 20px 40px rgba(0,0,0,.5);
}

/* Title */
.card h2{
  font-size:20px;
  margin-bottom:10px;
}

/* Status Badge */
.badge{
  display:inline-block;
  padding:6px 10px;
  border-radius:8px;
  font-size:13px;
  font-weight:600;
}

.success{ background:#16a34a; }
.danger{ background:#dc2626; }

/* Loading */
.loader{
  text-align:center;
  margin-top:40px;
  font-size:18px;
  opacity:.8;
}

/* Error */
.error{
  text-align:center;
  margin-top:40px;
  color:#f87171;
  font-size:18px;
}
</style>
</head>

<body>

<div class="header">
  <h1>üöÄ BeyondChats ‚Äî AI Updated Blogs</h1>
  <p>Your blogs upgraded using AI + Real Web References</p>
</div>

<div id="articles"></div>
<p class="loader" id="loader">‚è≥ Loading Articles...</p>
<p class="error" id="error" style="display:none;">‚ö†Ô∏è Failed to load articles. Make sure backend is running.</p>

<script>
fetch("http://127.0.0.1:8000/api/articles")
.then(res => res.json())
.then(data => {
  document.getElementById("loader").style.display = "none";
  const container = document.getElementById("articles");

  data.forEach(article => {
    const div = document.createElement("div");
    div.className = "card";

    div.innerHTML = `
      <h2>${article.title || "Untitled Article"}</h2>

      <span class="badge ${article.is_updated ? "success" : "danger"}">
        ${article.is_updated ? "AI Updated" : "Not Updated"}
      </span>
    `;

    div.onclick = () => {
      window.location.href = "article.html?id=" + article.id;
    };

    container.appendChild(div);
  });
})
.catch(() => {
  document.getElementById("loader").style.display = "none";
  document.getElementById("error").style.display = "block";
});
</script>

</body>
</html>
